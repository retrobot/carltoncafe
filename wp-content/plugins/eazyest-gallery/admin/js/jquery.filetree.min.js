if(jQuery)(function(e){e.extend(e.fn,{fileTree:function(t,n){if(!t)var t={};if(t.root==undefined)t.root="/";if(t.script==undefined)t.script="jqueryFileTree.php";if(t.folderEvent==undefined)t.folderEvent="click";if(t.expandSpeed==undefined)t.expandSpeed=500;if(t.collapseSpeed==undefined)t.collapseSpeed=500;if(t.expandEasing==undefined)t.expandEasing=null;if(t.collapseEasing==undefined)t.collapseEasing=null;if(t.multiFolder==undefined)t.multiFolder=true;if(t.loadMessage==undefined)t.loadMessage="Loading...";e(this).each(function(){function r(n,r){e(n).addClass("wait");e(".jqueryFileTree.start").remove();var s={dir:r,action:"eazyest_gallery_filetree",_wpnonce:e("#file-tree-nonce").val()};e.post(t.script,s,function(s){e(n).find(".start").html("");e(n).removeClass("wait").append(s);if(t.root==r)e(n).find("ul:hidden").show();else e(n).find("ul:hidden").slideDown({duration:t.expandSpeed,easing:t.expandEasing});i(n)})}function i(i){e(i).find("li a").bind(t.folderEvent,function(){if(e(this).parent().hasClass("directory")){if(e(this).parent().hasClass("collapsed")){if(!t.multiFolder){e(this).parent().parent().find("ul").slideUp({duration:t.collapseSpeed,easing:t.collapseEasing});e(this).parent().parent().find("li.directory").removeClass("expanded").addClass("collapsed")}e(this).parent().find("ul").remove();r(e(this).parent(),escape(e(this).attr("rel").match(/.*\//)));e(this).parent().removeClass("collapsed").addClass("expanded")}else{e(this).parent().find("ul").slideUp({duration:t.collapseSpeed,easing:t.collapseEasing});e(this).parent().removeClass("expanded").addClass("collapsed")}}n(e(this).attr("rel"));return false});if(t.folderEvent.toLowerCase!="click")e(i).find("li a").bind("click",function(){return false})}e(this).html('<ul class="jquery-filetree start"><li class="wait">'+t.loadMessage+"<li></ul>");r(e(this),escape(t.root))})}})})(jQuery)